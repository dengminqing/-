<!DOCTYPE Html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">	
</head>
<body>
<button id="button1">刷新菜单目录</button>
<button id="button2">增加子菜单</button>
<button id="button3">删除子菜单</button>
<!-- 使用回调函数 -->
<script type="text/javascript">
	/*
	但是如果我们使用回调函数的话，那么接收者被封闭在回调函数产生的环境中，
	执行操作将会更加简单，仅仅执行回调函数即可
	*/
	var button1 = document.getElementById("button1"),
		button2 = document.getElementById("button2"),
		button3 = document.getElementById("button3");
	var setCommand = function(button,func){
		button.onclick = function(){
			func();
		}
	};

	var MenuBar ={
		refersh:function(){
			alert("刷新菜单界面")
		}
	};

	var SubMenu = {
		add:function(){
			alert("增加菜单")
		},
		del:function(){
			alert("删除菜单");
		}
	};


	//刷新菜单
	var RefershMeunBarCommand = function(receiver){
		return function(){
			receiver.refersh();
		}
	};

	//增加菜单
	var AddSubMenuCommand = function(receiver){
		return function(){
			receiver.add();
		}
	};
	
	//删除菜单
	var DelSubMenuCommand = function(receiver){
		return function(){
			receiver.del();
		}
	};

	var refershBtn = RefershMeunBarCommand(MenuBar);
	var addBtn = AddSubMenuCommand(SubMenu);
	var delBtn = DelSubMenuCommand(SubMenu);
	setCommand(button1,refershBtn);
	setCommand(button2,addBtn);
	setCommand(button3,delBtn);
</script>

</body>
</html>
